<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">

    <changeSet id="constraint-1" author="kevin.sewell">

        <addForeignKeyConstraint baseTableName="clinic_dispensation"
                                 baseColumnNames="clinic"
                                 constraintName="clinic_dispensation_fk"
                                 referencedTableName="facility"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="clinic_dispensation"
                                 baseColumnNames="dispensation"
                                 constraintName="dispensation_clinic_fk"
                                 referencedTableName="dispensation"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="clinic_medication"
                                 baseColumnNames="clinic"
                                 constraintName="clinic_medication_fk"
                                 referencedTableName="facility"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="clinic_medication"
                                 baseColumnNames="medication"
                                 constraintName="medication_clinic_fk"
                                 referencedTableName="medication"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="clinic_patient"
                                 baseColumnNames="clinic"
                                 constraintName="clinic_patient_fk"
                                 referencedTableName="facility"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="clinic_patient"
                                 baseColumnNames="patient"
                                 constraintName="patient_clinic_fk"
                                 referencedTableName="patient"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="clinic_practitioner"
                                 baseColumnNames="clinic"
                                 constraintName="clinic_practitioner_fk"
                                 referencedTableName="facility"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="clinic_practitioner"
                                 baseColumnNames="practitioner"
                                 constraintName="practitioner_clinic_fk"
                                 referencedTableName="practitioner"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="clinic_prescription"
                                 baseColumnNames="clinic"
                                 constraintName="clinic_prescription_fk"
                                 referencedTableName="facility"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="clinic_prescription"
                                 baseColumnNames="prescription"
                                 constraintName="prescription_clinic_fk"
                                 referencedTableName="prescription"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="inventory_item"
                                 baseColumnNames="part"
                                 constraintName="inventory_item_part_fk"
                                 referencedTableName="part"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="patient"
                                 baseColumnNames="person"
                                 constraintName="patient_person_fk"
                                 referencedTableName="person"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="practitioner"
                                 baseColumnNames="person"
                                 constraintName="practitioner_person_fk"
                                 referencedTableName="person"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="good"
                                 baseColumnNames="finished_good"
                                 constraintName="good_part_fk"
                                 referencedTableName="part"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="medication"
                                 baseColumnNames="drug"
                                 constraintName="medication_part_fk"
                                 referencedTableName="part"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="prescription"
                                 baseColumnNames="encounter"
                                 constraintName="prescription_encounter_fk"
                                 referencedTableName="encounter"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="prescription"
                                 baseColumnNames="prescriber"
                                 constraintName="prescription_practitioner_fk"
                                 referencedTableName="practitioner"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="prescription"
                                 baseColumnNames="patient"
                                 constraintName="prescription_patient_fk"
                                 referencedTableName="patient"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="prescribed_medication"
                                 baseColumnNames="medication"
                                 constraintName="prescribed_medication_good_fk"
                                 referencedTableName="medication"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="party_classifications"
                                 baseColumnNames="classification"
                                 constraintName="party_classification_application_fk"
                                 referencedTableName="party_classification"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="party_contact_mechanisms"
                                 baseColumnNames="contact_mechanism"
                                 constraintName="party_contact_mechanisms_fp"
                                 referencedTableName="contact_mechanism"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="default_dosage_instruction"
                                 baseColumnNames="medication"
                                 constraintName="default_dosage_instruction_medication_fk"
                                 referencedTableName="part"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="default_dosage_instruction"
                                 baseColumnNames="dosage_instruction"
                                 constraintName="default_dosage_instruction_fk"
                                 referencedTableName="dosage_instruction"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="dispensation"
                                 baseColumnNames="dispenser"
                                 constraintName="dispensation_dispenser_fk"
                                 referencedTableName="practitioner"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="dispensation"
                                 baseColumnNames="patient"
                                 constraintName="dispensation_patient_fk"
                                 referencedTableName="patient"
                                 referencedColumnNames="pk"/>

        <addForeignKeyConstraint baseTableName="dispensed_medication"
                                 baseColumnNames="dosage_instruction"
                                 constraintName="dispensed_medication_dosage_instruction_fk"
                                 referencedTableName="dosage_instruction"
                                 referencedColumnNames="pk"/>

    </changeSet>

</databaseChangeLog>
