<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"
                 version="2.0">

    <access>FIELD</access>

    <!-- Administration Method -->

    <entity class="org.celllife.idart.domain.administrationmethod.AdministrationMethod">
        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.CodeableEntityListener">
                <pre-persist method-name="setPk"/>
            </entity-listener>
        </entity-listeners>
        <attributes>
            <id name="pk"/>
            <element-collection name="codes" fetch="EAGER"/>
            <element-collection name="descriptions" fetch="EAGER"/>
            <element-collection name="names" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- Clinic Medication Relationship -->

    <entity class="org.celllife.idart.domain.clinicdispensation.ClinicDispensation">

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <basic name="fromDate">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <many-to-one name="clinic"/>
            <many-to-one name="dispensation"/>
        </attributes>

    </entity>

    <!-- Clinic Medication Relationship -->

    <entity class="org.celllife.idart.domain.clinicmedication.ClinicMedication">

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <basic name="fromDate">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <many-to-one name="clinic"/>
            <many-to-one name="medication"/>
        </attributes>

    </entity>

    <!-- Clinic Patient Relationship -->

    <entity class="org.celllife.idart.domain.clinicpatient.ClinicPatient">

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <basic name="fromDate">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <many-to-one name="clinic"/>
            <many-to-one name="patient"/>
        </attributes>

    </entity>

    <!-- Clinic Practitioner Relationship -->

    <entity class="org.celllife.idart.domain.clinicpractitioner.ClinicPractitioner">

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <basic name="fromDate">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <many-to-one name="clinic"/>
            <many-to-one name="practitioner"/>
        </attributes>

    </entity>

    <!-- Clinic Prescription Relationship -->

    <entity class="org.celllife.idart.domain.clinicprescription.ClinicPrescription">

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <basic name="fromDate">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <many-to-one name="clinic"/>
            <many-to-one name="prescription"/>
        </attributes>

    </entity>

    <!-- Contact Mechanism -->

    <entity class="org.celllife.idart.domain.contactmechanism.ContactMechanism">

        <inheritance strategy="SINGLE_TABLE"/>

        <discriminator-column name="type"/>

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
        </attributes>
    </entity>

    <entity class="org.celllife.idart.domain.contactmechanism.ElectronicAddress">

        <discriminator-value>electronicAddress</discriminator-value>

        <attributes>
            <basic name="electronicAddressString"/>
        </attributes>
    </entity>

    <entity class="org.celllife.idart.domain.contactmechanism.PostalAddress">

        <discriminator-value>postalAddress</discriminator-value>

        <attributes>
            <basic name="address1"/>
            <basic name="address2"/>
            <basic name="directions"/>
        </attributes>
    </entity>

    <entity class="org.celllife.idart.domain.contactmechanism.TelecommunicationsNumber">

        <discriminator-value>telecommunicationsNumber</discriminator-value>

        <attributes>
            <basic name="areaCode"/>
            <basic name="contactNumber"/>
            <basic name="countryCode"/>
        </attributes>
    </entity>

    <entity class="org.celllife.idart.domain.contactmechanism.MobileTelephoneNumber">

        <discriminator-value>mobileTelephoneNumber</discriminator-value>

        <attributes>
            <basic name="contactNumber"/>
            <basic name="countryCode"/>
        </attributes>
    </entity>

    <!-- Counter -->

    <entity class="org.celllife.idart.domain.counter.Counter">
        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <basic name="name"/>
            <basic name="nextValue"/>
        </attributes>
    </entity>

    <!-- DefaultDosageInstruction -->

    <entity class="org.celllife.idart.domain.defaultdosageinstruction.DefaultDosageInstruction">
        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <many-to-one name="medication"/>
            <one-to-one name="dosageInstruction" fetch="EAGER" orphan-removal="true">
                <cascade>
                    <cascade-all/>
                </cascade>
            </one-to-one>
        </attributes>
    </entity>

    <!-- Dispensed Medication -->

    <entity class="org.celllife.idart.domain.dispensedmedication.DispensedMedication">

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.IdentifiableEntityListener">
                <pre-persist method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <many-to-one name="medication"/>
            <many-to-one name="authorizingPrescribedMedication"/>
            <one-to-one name="dosageInstruction" fetch="EAGER" orphan-removal="true">
                <cascade>
                    <cascade-all/>
                </cascade>
            </one-to-one>
            <element-collection name="identifiers" fetch="EAGER"/>
            <embedded name="quantity">
                <attribute-override name="value">
                    <column name="quantity"/>
                </attribute-override>
                <association-override name="unitOfMeasure">
                    <join-column name="quantity_uom"/>
                </association-override>
            </embedded>
            <embedded name="handedOver">
                <attribute-override name="fromDate">
                    <column name="handed_over_from_date"/>
                </attribute-override>
                <attribute-override name="thruDate">
                    <column name="handed_over_thru_date"/>
                </attribute-override>
            </embedded>
            <embedded name="prepared">
                <attribute-override name="fromDate">
                    <column name="prepared_from_date"/>
                </attribute-override>
                <attribute-override name="thruDate">
                    <column name="prepared_thru_date"/>
                </attribute-override>
            </embedded>
        </attributes>
    </entity>

    <!-- Dispensation -->

    <entity class="org.celllife.idart.domain.dispensation.Dispensation">

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.IdentifiableEntityListener">
                <pre-persist method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <many-to-one name="patient"/>
            <many-to-one name="dispenser"/>
            <one-to-many name="dispensedMedications" fetch="EAGER" orphan-removal="true">
                <join-column name="dispensation"/>
            </one-to-many>
            <element-collection name="identifiers" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- Dosage Instruction -->

    <entity class="org.celllife.idart.domain.dosageinstruction.DosageInstruction">

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <many-to-one name="method"/>
            <many-to-one name="route"/>
            <many-to-one name="site"/>
            <element-collection name="texts" fetch="EAGER"/>
            <embedded name="doseQuantity">
                <attribute-override name="value">
                    <column name="dose_quantity"/>
                </attribute-override>
                <association-override name="unitOfMeasure">
                    <join-column name="dose_quantity_uom"/>
                </association-override>
            </embedded>
            <embedded name="maxDosePerPeriod">
                <attribute-override name="numerator.value">
                    <column name="max_dose_per_period_numerator"/>
                </attribute-override>
                <attribute-override name="denominator.value">
                    <column name="max_dose_per_period_denominator"/>
                </attribute-override>
                <association-override name="numerator.unitOfMeasure">
                    <join-column name="max_dose_per_period_numerator_uom"/>
                </association-override>
                <association-override name="denominator.unitOfMeasure">
                    <join-column name="max_dose_per_period_denominator_uom"/>
                </association-override>
            </embedded>
            <embedded name="rate">
                <attribute-override name="numerator.value">
                    <column name="rate_numerator"/>
                </attribute-override>
                <attribute-override name="denominator.value">
                    <column name="rate_denominator"/>
                </attribute-override>
                <association-override name="numerator.unitOfMeasure">
                    <join-column name="rate_numerator_uom"/>
                </association-override>
                <association-override name="denominator.unitOfMeasure">
                    <join-column name="rate_denominator_uom"/>
                </association-override>
            </embedded>
            <embedded name="timing"/>
        </attributes>
    </entity>

    <!-- Encounter -->

    <entity class="org.celllife.idart.domain.encounter.Encounter">
        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <element-collection name="identifiers" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- EntrySite -->

    <entity class="org.celllife.idart.domain.entrysite.EntrySite">
        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <element-collection name="codes" fetch="EAGER"/>
            <element-collection name="descriptions" fetch="EAGER"/>
            <element-collection name="names" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- Facility -->

    <entity class="org.celllife.idart.domain.facility.Facility">

        <discriminator-column name="type"/>

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.IdentifiableEntityListener">
                <pre-persist method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <element-collection name="descriptions" fetch="EAGER"/>
            <element-collection name="identifiers" fetch="EAGER"/>
            <element-collection name="names" fetch="EAGER"/>
            <embedded name="area">
                <attribute-override name="value">
                    <column name="area"/>
                </attribute-override>
                <association-override name="unitOfMeasure">
                    <join-column name="area_uom"/>
                </association-override>
            </embedded>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.clinic.Clinic">
        <discriminator-value>clinic</discriminator-value>
    </entity>

    <!-- Form -->

    <entity class="org.celllife.idart.domain.form.Form">

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.CodeableEntityListener">
                <pre-persist method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <element-collection name="codes" fetch="EAGER"/>
            <element-collection name="descriptions" fetch="EAGER"/>
            <element-collection name="names" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- Indication -->

    <entity class="org.celllife.idart.domain.indication.Indication">
        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <element-collection name="codes" fetch="EAGER"/>
            <element-collection name="descriptions" fetch="EAGER"/>
            <element-collection name="names" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- Inventory Item -->

    <entity class="org.celllife.idart.domain.inventoryitem.InventoryItem">

        <inheritance strategy="JOINED"/>

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <many-to-one name="part"/>
            <element-collection name="status" fetch="EAGER">
                <order-by>dateTime</order-by>
            </element-collection>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.inventoryitem.SerialisedInventoryItem">

        <attributes>
            <basic name="serialNumber"/>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.inventoryitem.NonSerialisedInventoryItem">

        <attributes>
            <embedded name="quantityOnHand">
                <attribute-override name="value">
                    <column name="quantity_on_hand"/>
                </attribute-override>
                <association-override name="unitOfMeasure">
                    <join-column name="quantity_on_hand_uom"/>
                </association-override>
            </embedded>
        </attributes>

    </entity>

    <!-- LifeEvent -->

    <entity class="org.celllife.idart.domain.lifeevent.LifeEvent">
        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <element-collection name="codes" fetch="EAGER"/>
            <element-collection name="descriptions" fetch="EAGER"/>
            <element-collection name="names" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- Part -->

    <entity class="org.celllife.idart.domain.part.Part">

        <inheritance/>

        <discriminator-column name="type"/>

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <many-to-one name="form"/>
            <many-to-one name="unitOfMeasure"/>
            <element-collection name="classifications" fetch="EAGER"/>
            <element-collection name="identifiers" fetch="EAGER"/>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.compound.Compound">
        <discriminator-value>compound</discriminator-value>
    </entity>

    <entity class="org.celllife.idart.domain.drug.Drug">
        <discriminator-value>drug</discriminator-value>

        <attributes>
            <one-to-many name="billOfMaterials" fetch="EAGER" orphan-removal="true">
                <cascade>
                    <cascade-all/>
                </cascade>
            </one-to-many>
        </attributes>
    </entity>

    <!-- PartBillOfMaterialsItem -->

    <entity class="org.celllife.idart.domain.part.PartBillOfMaterialsItem">

        <inheritance/>

        <discriminator-column name="type"/>

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <basic name="comment"/>
            <basic name="fromDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="instructions"/>
            <basic name="thruDate">
                <temporal>DATE</temporal>
            </basic>
            <many-to-one name="part"/>
            <embedded name="quantityUsed">
                <attribute-override name="value">
                    <column name="quantity_used"/>
                </attribute-override>
                <association-override name="unitOfMeasure">
                    <join-column name="quantity_used_uom"/>
                </association-override>
            </embedded>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.part.EngineeringPartBillOfMaterialsItem">
        <discriminator-value>engineering</discriminator-value>
    </entity>

    <!-- Part Classification -->

    <entity class="org.celllife.idart.domain.partclassification.PartClassification">

        <inheritance strategy="JOINED"/>

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <many-to-one name="parent"/>
            <element-collection name="descriptions" fetch="EAGER"/>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.partclassification.AtcClassification">

        <attributes>
            <basic name="firstLevel">
                <enumerated>STRING</enumerated>
            </basic>
            <basic name="secondLevel"/>
            <basic name="thirdLevel"/>
            <basic name="forthLevel"/>
            <basic name="fifthLevel"/>
            <one-to-many name="definedDailyDoses" fetch="EAGER" orphan-removal="true">
                <join-column name="atc_classification"/>
                <cascade>
                    <cascade-all/>
                </cascade>
            </one-to-many>
        </attributes>

    </entity>

    <!--
    This should be embeddable but JPA an digging that shit...
    getting java.util.ConcurrentModificationException @ org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1592)
    -->

    <entity class="org.celllife.idart.domain.partclassification.atc.DefinedDailyDose">

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <many-to-one name="route"/>
            <embedded name="quantity">
                <attribute-override name="value">
                    <column name="quantity"/>
                </attribute-override>
                <association-override name="unitOfMeasure">
                    <join-column name="quantity_uom"/>
                </association-override>
            </embedded>
        </attributes>

    </entity>

    <!-- Party -->

    <entity class="org.celllife.idart.domain.party.Party">

        <inheritance strategy="JOINED"/>

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.IdentifiableEntityListener">
                <pre-persist method-name="setPk"/>
                <pre-update method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <element-collection name="classifications" fetch="EAGER"/>
            <element-collection name="contactMechanisms" fetch="EAGER"/>
            <element-collection name="identifiers" fetch="EAGER"/>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.organisation.Organisation">

        <attributes>
            <basic name="name"/>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.organisation.InformalOrganisation"/>

    <entity class="org.celllife.idart.domain.organisation.LegalOrganisation">

        <attributes>
            <basic name="taxRegistrationNumber"/>
        </attributes>

    </entity>

    <!-- Party Classification -->

    <entity class="org.celllife.idart.domain.partyclassification.PartyClassification">

        <inheritance/>

        <discriminator-column name="type"/>

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <many-to-one name="parent"/>
            <element-collection name="codes" fetch="EAGER"/>
            <element-collection name="descriptions" fetch="EAGER"/>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.partyclassification.EmploymentEquityClassification">
        <discriminator-value>employmentEquityClassification</discriminator-value>
    </entity>

    <entity class="org.celllife.idart.domain.partyclassification.StandardIndustrialClassification">
        <discriminator-value>standardIndustrialClassification</discriminator-value>
    </entity>

    <!-- Patient -->

    <entity class="org.celllife.idart.domain.patient.Patient">

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.IdentifiableEntityListener">
                <pre-persist method-name="setPk"/>
                <pre-update method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <basic name="fromDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>DATE</temporal>
            </basic>
            <many-to-one name="person"/>
            <element-collection name="identifiers" fetch="EAGER"/>
        </attributes>

    </entity>

    <!-- Practitioner -->

    <entity class="org.celllife.idart.domain.practitioner.Practitioner">

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.IdentifiableEntityListener">
                <pre-persist method-name="setPk"/>
                <pre-update method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <basic name="fromDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>DATE</temporal>
            </basic>
            <many-to-one name="person"/>
            <element-collection name="identifiers" fetch="EAGER"/>
        </attributes>

    </entity>

    <!-- Person -->

    <entity class="org.celllife.idart.domain.person.Person">

        <attributes>
            <basic name="firstName"/>
            <basic name="middleNames"/>
            <basic name="lastName"/>
            <basic name="personalTitle"/>
            <basic name="suffix"/>
            <basic name="nickname"/>
            <basic name="gender">
                <enumerated>STRING</enumerated>
            </basic>
            <basic name="maritalStatus">
                <enumerated>STRING</enumerated>
            </basic>
            <basic name="birthDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="comment"/>
            <basic name="totalYearsWorkExperience"/>
            <basic name="mothersMaidenName"/>
            <one-to-many name="physicalCharacteristics" fetch="EAGER" orphan-removal="true">
                <join-column name="person"/>
                <cascade>
                    <cascade-all/>
                </cascade>
            </one-to-many>
            <element-collection name="identifiers" fetch="EAGER"/>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.person.PhysicalCharacteristic">

        <inheritance strategy="JOINED"/>

        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <basic name="fromDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>DATE</temporal>
            </basic>
        </attributes>
    </entity>

    <entity class="org.celllife.idart.domain.person.Height">
        <attributes>
            <embedded name="value"/>
        </attributes>
    </entity>

    <entity class="org.celllife.idart.domain.person.Weight">
        <attributes>
            <embedded name="value"/>
        </attributes>
    </entity>

    <!-- Prescription -->

    <entity class="org.celllife.idart.domain.prescription.Prescription">

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.IdentifiableEntityListener">
                <pre-persist method-name="setPk"/>
                <pre-update method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <basic name="dateWritten">
                <temporal>DATE</temporal>
            </basic>
            <many-to-one name="encounter"/>
            <many-to-one name="prescriber"/>
            <many-to-one name="patient" optional="false"/>
            <one-to-many name="prescribedMedications" fetch="EAGER" orphan-removal="true">
                <join-column name="prescription"/>
            </one-to-many>
            <element-collection name="identifiers" fetch="EAGER"/>
        </attributes>

    </entity>

    <entity class="org.celllife.idart.domain.prescribedmedication.PrescribedMedication">

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.IdentifiableEntityListener">
                <pre-persist method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <basic name="numberOfRepeats"/>
            <basic name="reasonForPrescribing"/>
            <many-to-one name="medication" optional="false"/>
            <many-to-one name="substitution"/>
            <many-to-one name="substitutionReason"/>
            <one-to-many name="indications" fetch="EAGER" orphan-removal="true">
                <cascade>
                    <cascade-all/>
                </cascade>
            </one-to-many>
            <one-to-one name="dosageInstruction" fetch="EAGER" orphan-removal="true">
                <cascade>
                    <cascade-all/>
                </cascade>
            </one-to-one>
            <element-collection name="identifiers" fetch="EAGER"/>
            <embedded name="expectedSupplyDuration">
                <attribute-override name="value">
                    <column name="expected_supply_duration"/>
                </attribute-override>
                <association-override name="unitOfMeasure">
                    <join-column name="expected_supply_duration_uom"/>
                </association-override>
            </embedded>
            <embedded name="quantity">
                <attribute-override name="value">
                    <column name="quantity"/>
                </attribute-override>
                <association-override name="unitOfMeasure">
                    <join-column name="quantity_uom"/>
                </association-override>
            </embedded>
            <embedded name="valid">
                <attribute-override name="fromDate">
                    <column name="valid_from_date"/>
                </attribute-override>
                <attribute-override name="thruDate">
                    <column name="valid_thru_date"/>
                </attribute-override>
            </embedded>
        </attributes>
    </entity>

    <!-- Product -->

    <entity class="org.celllife.idart.domain.product.Product">

        <inheritance strategy="JOINED"/>

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.IdentifiableEntityListener">
                <pre-persist method-name="setPk"/>
                <pre-update method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <element-collection name="identifiers" fetch="EAGER"/>
        </attributes>
    </entity>

    <entity class="org.celllife.idart.domain.medication.Medication">
        <attributes>
            <many-to-one name="drug" optional="false"/>
        </attributes>
    </entity>

    <!-- RouteOfAdministration -->

    <entity class="org.celllife.idart.domain.routeofadministration.RouteOfAdministration">

        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.CodeableEntityListener">
                <pre-persist method-name="setPk"/>
            </entity-listener>
        </entity-listeners>

        <attributes>
            <id name="pk"/>
            <element-collection name="codes" fetch="EAGER"/>
            <element-collection name="descriptions" fetch="EAGER"/>
            <element-collection name="names" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- Substitution -->

    <entity class="org.celllife.idart.domain.substitution.Substitution">
        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <element-collection name="codes" fetch="EAGER"/>
            <element-collection name="descriptions" fetch="EAGER"/>
            <element-collection name="names" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- SubstitutionReason -->

    <entity class="org.celllife.idart.domain.substitutionreason.SubstitutionReason">
        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <element-collection name="codes" fetch="EAGER"/>
            <element-collection name="descriptions" fetch="EAGER"/>
            <element-collection name="names" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- UnitOfMeasure -->

    <entity class="org.celllife.idart.domain.unitofmeasure.UnitOfMeasure">
        <entity-listeners>
            <entity-listener class="org.celllife.idart.framework.persistence.CodeableEntityListener">
                <pre-persist method-name="setPk"/>
            </entity-listener>
        </entity-listeners>
        <attributes>
            <id name="pk"/>
            <many-to-one name="type" fetch="EAGER"/>
            <element-collection name="codes" fetch="EAGER"/>
            <element-collection name="names" fetch="EAGER"/>
        </attributes>
    </entity>

    <entity class="org.celllife.idart.domain.unitofmeasure.UnitOfMeasureType">
        <attributes>
            <id name="pk">
                <generated-value strategy="TABLE"/>
            </id>
            <element-collection name="names" fetch="EAGER"/>
        </attributes>
    </entity>

    <!-- Code -->

    <embeddable class="org.celllife.idart.domain.common.Code">
        <attributes>
            <basic name="system"/>
            <basic name="value"/>
        </attributes>
    </embeddable>

    <!-- Duration -->

    <embeddable class="org.celllife.idart.domain.common.Duration">
        <attributes>
            <basic name="value"/>
            <many-to-one name="unitOfMeasure"/>
        </attributes>
    </embeddable>

    <!-- Identifier -->

    <embeddable class="org.celllife.idart.domain.common.Identifier">
        <attributes>
            <basic name="system"/>
            <basic name="value"/>
            <basic name="fromDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>DATE</temporal>
            </basic>
        </attributes>
    </embeddable>

    <!-- Inventory Item -->

    <embeddable class="org.celllife.idart.domain.inventoryitem.InventoryItemStatus">
        <attributes>
            <basic name="dateTime">
                <temporal>TIMESTAMP</temporal>
            </basic>
            <basic name="statusType">
                <enumerated>STRING</enumerated>
            </basic>
        </attributes>
    </embeddable>

    <!-- Localized Text -->

    <embeddable class="org.celllife.idart.domain.common.LocalisedText">
        <attributes>
            <basic name="locale"/>
            <basic name="value"/>
        </attributes>
    </embeddable>

    <!-- Part Classification Application -->

    <embeddable class="org.celllife.idart.domain.part.PartClassification">
        <attributes>
            <basic name="type">
                <enumerated>STRING</enumerated>
            </basic>
            <basic name="code"/>
            <basic name="fromDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>DATE</temporal>
            </basic>
        </attributes>
    </embeddable>

    <!-- Party Classification Application -->

    <embeddable class="org.celllife.idart.domain.party.PartyContactMechanism">
        <attributes>
            <basic name="fromDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="comment"/>
            <basic name="nonSolicitationIndicator">
                <column column-definition="bit"/>
            </basic>
            <basic name="extension"/>
            <many-to-one name="contactMechanism">
                <cascade>
                    <cascade-all/>
                </cascade>
            </many-to-one>
        </attributes>
    </embeddable>

    <!-- Party Classification Application -->

    <embeddable class="org.celllife.idart.domain.party.PartyClassificationApplication">
        <attributes>
            <basic name="fromDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>DATE</temporal>
            </basic>
            <many-to-one name="classification"/>
        </attributes>
    </embeddable>

    <!-- Period -->

    <embeddable class="org.celllife.idart.domain.common.Period">
        <attributes>
            <basic name="fromDate">
                <temporal>DATE</temporal>
            </basic>
            <basic name="thruDate">
                <temporal>DATE</temporal>
            </basic>
        </attributes>
    </embeddable>

    <!-- Period -->

    <embeddable class="org.celllife.idart.domain.common.Quantity">
        <attributes>
            <basic name="value"/>
            <many-to-one name="unitOfMeasure"/>
        </attributes>
    </embeddable>

    <!-- Repeat -->

    <embeddable class="org.celllife.idart.domain.common.Repeat">
        <attributes>
            <basic name="count"/>
            <basic name="end">
                <temporal>DATE</temporal>
            </basic>
            <basic name="frequency"/>
            <many-to-one name="when">
                <join-column name="when_"/>
            </many-to-one>
            <embedded name="duration">
                <attribute-override name="value">
                    <column name="duration"/>
                </attribute-override>
                <association-override name="unitOfMeasure">
                    <join-column name="duration_uom"/>
                </association-override>
            </embedded>
        </attributes>
    </embeddable>

    <!-- Schedule -->

    <embeddable class="org.celllife.idart.domain.common.Schedule">
        <attributes>
            <element-collection name="events" fetch="EAGER"/>
            <embedded name="repeat"/>
        </attributes>
    </embeddable>

</entity-mappings>